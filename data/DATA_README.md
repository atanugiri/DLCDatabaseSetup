# Data Directory

This directory contains raw and split video data for generating the trial metadata database.

## Data Sources

Download the video datasets from Harvard Dataverse:

1. **Raw Videos (4-quadrant recordings)**: [Animal Videos for 4 mazes in RECORD setup](https://doi.org/10.7910/DVN/SBH3UG)  
   Citation: Giri, Atanu, 2025, "Animal Videos for 4 mazes in RECORD setup", Harvard Dataverse, V1

2. **Split Videos (individual animals)**: [Videos for DLC analysis](https://doi.org/10.7910/DVN/F0P2BC)  
   Citation: Giri, Atanu, 2025, "Videos for DLC analysis", Harvard Dataverse, V1

**Note**: You do NOT need the DLC CSVs here. Those are used in the [GhrelinBehaviorQuantification](https://github.com/atanugiri/GhrelinBehaviorQuantification) repository for downstream analysis.

## Setup Instructions

1. Download both video archives from Harvard Dataverse
2. Extract each archive **directly into this `data/` directory**:
   ```bash
   cd DLCDatabaseSetup/data
   
   # Extract raw videos archive
   unzip Animal_behavior_RawVideos.zip
   # Creates: RawVideos/
   
   # Extract split videos archive
   unzip Animal_behavior_SplitVideos.zip
   # Creates: SplitVideos/
   ```

3. Final structure:
   ```
   DLCDatabaseSetup/data/
   ├── RawVideos/
   │   ├── WhiteAnimals10X/
   │   │   ├── FoodOnly/*.mp4
   │   │   ├── FoodLight/*.mp4
   │   │   └── [other tasks]/*.mp4
   │   └── WhiteAnimals2X/
   │       ├── FoodOnly/*.mp4
   │       ├── FoodLight/*.mp4
   │       └── [other tasks]/*.mp4
   │
   └── SplitVideos/
       ├── WhiteAnimals10X/
       │   └── [tasks]/*.mp4
       └── WhiteAnimals2X/
           └── [tasks]/*.mp4
   ```

## Purpose

This repository generates the **metadata** (`dlc_table.csv`) that maps:
- Video names → Task, Treatment, Maze number, Animal name
- Split video names → Path to DLC CSV (relative path for portability)

The generated CSV will have paths like:
```
data/WhiteAnimals/ToyOnly/DlcDataPytorchFiltered/ToyOnlyInhibitory_2_27_25_S1P_FDLC_...filtered.csv
```

These paths point to the DLC CSVs in the **GhrelinBehaviorQuantification** repository.

## Filename Conventions

### Raw Videos (Mother Videos)
Format: `Task_MM_DD_YY_HealthCode_Animal1_Animal2_Animal3_Animal4[_Trial#].mp4`

Example: `FoodOnly_7_29_25_S1Y_Celery_Broccoli_Spinach_None.mp4`

### Split Videos
Format: `Task_MM_DD_YY_HealthCode_AnimalName.mp4`

Example: `FoodOnly_7_29_25_S1Y_Celery.mp4`

### DLC CSVs
Generated by DeepLabCut from split videos with pose-estimation data.

Format: `Task_MM_DD_YY_HealthCode_AnimalNameDLC_Resnet50_..._filtered.csv`

## Note

Video files (`*.mp4`, `*.avi`) are excluded from git tracking via `.gitignore`. Only scripts and documentation are version controlled.
